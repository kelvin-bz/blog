<!doctype html>














<!-- `site.alt_lang` can specify a language different from the UI -->
<html lang="en" data-mode="light">
  <head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta name="theme-color" media="(prefers-color-scheme: light)" content="#f7f7f7">
  <meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1b1b1e">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta
    name="viewport"
    content="width=device-width, user-scalable=no initial-scale=1, shrink-to-fit=no, viewport-fit=cover"
  ><!-- Setup Open Graph image -->

  

  <!-- Begin Jekyll SEO tag v2.8.0 -->
<meta name="generator" content="Jekyll v4.3.3" />
<meta property="og:title" content="Redis Fundamentals" />
<meta property="og:locale" content="en" />
<meta name="description" content="Fundamentals" />
<meta property="og:description" content="Fundamentals" />
<link rel="canonical" href="http://localhost:4000/posts/redis-fundamentals/" />
<meta property="og:url" content="http://localhost:4000/posts/redis-fundamentals/" />
<meta property="og:site_name" content="KelvinBz" />
<meta property="og:image" content="http://localhost:4000/assets/images/redis.jpg" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2024-08-06T07:00:00+07:00" />
<meta name="twitter:card" content="summary_large_image" />
<meta property="twitter:image" content="http://localhost:4000/assets/images/redis.jpg" />
<meta property="twitter:title" content="Redis Fundamentals" />
<meta name="twitter:site" content="@kelvin_bzz" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2024-08-22T11:24:18+07:00","datePublished":"2024-08-06T07:00:00+07:00","description":"Fundamentals","headline":"Redis Fundamentals","image":"http://localhost:4000/assets/images/redis.jpg","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/posts/redis-fundamentals/"},"url":"http://localhost:4000/posts/redis-fundamentals/"}</script>
<!-- End Jekyll SEO tag -->


  <title> Redis Fundamentals | KelvinBz
  </title>

  <!--
  The Favicons for Web, Android, Microsoft, and iOS (iPhone and iPad) Apps
  Generated by: https://realfavicongenerator.net/
-->



<link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png">

  <link rel="manifest" href="/assets/img/favicons/site.webmanifest">

<link rel="shortcut icon" href="/assets/img/favicons/favicon.ico">
<meta name="apple-mobile-web-app-title" content="KelvinBz">
<meta name="application-name" content="KelvinBz">
<meta name="msapplication-TileColor" content="#da532c">
<meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml">
<meta name="theme-color" content="#ffffff">


  <!-- Resource Hints -->
  
    
      
        <link rel="preconnect" href="https://fonts.googleapis.com" >
      
        <link rel="dns-prefetch" href="https://fonts.googleapis.com" >
      
    
      
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
      
        <link rel="dns-prefetch" href="https://fonts.gstatic.com" >
      
    
      
        <link rel="preconnect" href="https://cdn.jsdelivr.net" >
      
        <link rel="dns-prefetch" href="https://cdn.jsdelivr.net" >
      
    
  

  <!-- Bootstrap -->
  
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css">
  

  <!-- Theme style -->
  <link rel="stylesheet" href="/assets/css/jekyll-theme-chirpy.css">

  <!-- Web Font -->
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400&family=Source+Sans+Pro:wght@400;600;700;900&display=swap">

  <!-- Font Awesome Icons -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.5.2/css/all.min.css">

  <!-- 3rd-party Dependencies -->

  
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/tocbot@4.27.20/dist/tocbot.min.css">
  

  
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/loading-attribute-polyfill@2.1.1/dist/loading-attribute-polyfill.min.css">
  

  
    <!-- Image Popup -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/glightbox@3.3.0/dist/css/glightbox.min.css">
  

  <!-- JavaScript -->

  

  <!-- A placeholder to allow defining custom metadata -->

</head>


  <body>
    <!-- The Side Bar -->

<aside aria-label="Sidebar" id="sidebar" class="d-flex flex-column align-items-end">
  <header class="profile-wrapper">
    <a href="/" id="avatar" class="rounded-circle"><img src="https://avatars.githubusercontent.com/u/15279486?v=4" width="112" height="112" alt="avatar" onerror="this.style.display='none'"></a>

    <h1 class="site-title">
      <a href="/">KelvinBz</a>
    </h1>
    <p class="site-subtitle fst-italic mb-0">My personal blog about Life, Technology, and Everything in Between.</p>
  </header>
  <!-- .profile-wrapper -->

  <nav class="flex-column flex-grow-1 w-100 ps-0">
    <ul class="nav">
      <!-- home -->
      <li class="nav-item">
        <a href="/" class="nav-link">
          <i class="fa-fw fas fa-home"></i>
          <span>HOME</span>
        </a>
      </li>
      <!-- the real tabs -->
      
        <li class="nav-item">
          <a href="/categories/" class="nav-link">
            <i class="fa-fw fas fa-stream"></i>
            

            <span>CATEGORIES</span>
          </a>
        </li>
        <!-- .nav-item -->
      
        <li class="nav-item">
          <a href="/tags/" class="nav-link">
            <i class="fa-fw fas fa-tags"></i>
            

            <span>TAGS</span>
          </a>
        </li>
        <!-- .nav-item -->
      
        <li class="nav-item">
          <a href="/archives/" class="nav-link">
            <i class="fa-fw fas fa-archive"></i>
            

            <span>ARCHIVES</span>
          </a>
        </li>
        <!-- .nav-item -->
      
        <li class="nav-item">
          <a href="/about/" class="nav-link">
            <i class="fa-fw fas fa-info-circle"></i>
            

            <span>ABOUT</span>
          </a>
        </li>
        <!-- .nav-item -->
      
    </ul>
  </nav>

  <div class="sidebar-bottom d-flex flex-wrap  align-items-center w-100">
    

    
      

      
        <a
          href="https://github.com/kelvin-bz"
          aria-label="github"
          

          
            target="_blank"
            
          

          

          
            rel="noopener noreferrer"
          
        >
          <i class="fab fa-github"></i>
        </a>
      
    
      

      
        <a
          href="https://twitter.com/kelvin_bzz"
          aria-label="twitter"
          

          
            target="_blank"
            
          

          

          
            rel="noopener noreferrer"
          
        >
          <i class="fa-brands fa-x-twitter"></i>
        </a>
      
    
      

      
        <a
          href="javascript:location.href = 'mailto:' + ['huycuongbuicong','gmail.com'].join('@')"
          aria-label="email"
          

          

          

          
        >
          <i class="fas fa-envelope"></i>
        </a>
      
    
      

      
        <a
          href="/feed.xml"
          aria-label="rss"
          

          

          

          
        >
          <i class="fas fa-rss"></i>
        </a>
      
    
  </div>
  <!-- .sidebar-bottom -->
</aside>
<!-- #sidebar -->


    <div id="main-wrapper" class="d-flex justify-content-center">
      <div class="container d-flex flex-column px-xxl-5">
        <!-- The Top Bar -->

<header id="topbar-wrapper" aria-label="Top Bar">
  <div
    id="topbar"
    class="d-flex align-items-center justify-content-between px-lg-3 h-100"
  >
    <nav id="breadcrumb" aria-label="Breadcrumb">
      

      
        
          
            <span>
              <a href="/">Home</a>
            </span>

          
        
          
        
          
            
              <span> Redis Fundamentals</span>
            

          
        
      
    </nav>
    <!-- endof #breadcrumb -->

    <button type="button" id="sidebar-trigger" class="btn btn-link">
      <i class="fas fa-bars fa-fw"></i>
    </button>

    <div id="topbar-title">
      Post
    </div>

    <button type="button" id="search-trigger" class="btn btn-link">
      <i class="fas fa-search fa-fw"></i>
    </button>

    <search id="search" class="align-items-center ms-3 ms-lg-0">
      <i class="fas fa-search fa-fw"></i>
      <input
        class="form-control"
        id="search-input"
        type="search"
        aria-label="search"
        autocomplete="off"
        placeholder="Search..."
      >
    </search>
    <button type="button" class="btn btn-link text-decoration-none" id="search-cancel">Cancel</button>
  </div>
</header>


        <div class="row flex-grow-1">
          <main aria-label="Main Content" class="col-12 col-lg-11 col-xl-9 px-md-4">
            
              <!-- Refactor the HTML structure -->



<!--
  In order to allow a wide table to scroll horizontally,
  we suround the markdown table with `<div class="table-wrapper">` and `</div>`
-->



<!--
  Fixed kramdown code highlight rendering:
  https://github.com/penibelst/jekyll-compress-html/issues/101
  https://github.com/penibelst/jekyll-compress-html/issues/71#issuecomment-188144901
-->



<!-- Change the icon of checkbox -->



<!-- Handle images -->




  
  

  
    
      
      
    

    
    

    

    
    

    
    
    

    
      

      
      
      

      
    
      

      
      
      

      
    
      

      
      
      

      
    
      

      
      
      

      
    
      

      
      
      

      
    

    <!-- take out classes -->
    

    
    

    

    
      
    

    <!-- lazy-load images -->
    

    
      <!-- make sure the `<img>` is wrapped by `<a>` -->
      

      
        <!-- create the image wrapper -->
        

        
        
      
    

    <!-- combine -->
    
  
    

    
    

    

    
    

    
    
    

    
      

      
      
      

      
    
      

      
      
      

      
    

    <!-- take out classes -->
    

    
    

    

    
      
    

    <!-- lazy-load images -->
    

    
      <!-- make sure the `<img>` is wrapped by `<a>` -->
      

      
        <!-- create the image wrapper -->
        

        
        
      
    

    <!-- combine -->
    
  

  


<!-- Add header for code snippets -->



<!-- Create heading anchors -->





  
  

  
    
    

    
      
        
        
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    

    
  

  
  

  
    
    

    
      
        
        
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    

    
  

  
  

  
    
    

    
      
        
        
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    
      

      
      

      
      
      

      
    

    
  

  
  

  




<!-- return -->




<article class="px-1">
  <header>
    <h1 data-toc-skip> Redis Fundamentals</h1>
    

    <div class="post-meta text-muted">
      <!-- published date -->
      <span>
        Posted
        <!--
  Date format snippet
  See: ${JS_ROOT}/utils/locale-dateime.js
-->




<time
  
  data-ts="1722902400"
  data-df="ll"
  
    data-bs-toggle="tooltip" data-bs-placement="bottom"
  
>
  Aug  6, 2024
</time>

      </span>

      <!-- lastmod date -->
      
        <span>
          Updated
          <!--
  Date format snippet
  See: ${JS_ROOT}/utils/locale-dateime.js
-->




<time
  
  data-ts="1724300658"
  data-df="ll"
  
    data-bs-toggle="tooltip" data-bs-placement="bottom"
  
>
  Aug 22, 2024
</time>

        </span>
      

      
        
        
        

        

        <div class="mt-3 mb-3">
          <a href="/assets/images/redis.jpg" class="popup img-link preview-img shimmer"><img src="/assets/images/redis.jpg"  alt="Preview Image" width="1200" height="630"  loading="lazy"></a></div>
      

      <div class="d-flex justify-content-between">
        <!-- author(s) -->
        <span>
          

          By

          <em>
            
              <a href="https://github.com/kelvin-bz">kelvinBz</a>
            
          </em>
        </span>

        <div>
          <!-- pageviews -->
          

          <!-- read time -->
          <!-- Calculate the post's reading time, and display the word count in tooltip -->



<!-- words per minute -->










<!-- return element -->
<span
  class="readtime"
  data-bs-toggle="tooltip"
  data-bs-placement="bottom"
  title="3351 words"
>
  <em>18 min</em> read</span>

        </div>
      </div>
    </div>
  </header>

  <div class="content">
    <h2 id="fundamentals"><span class="me-2">Fundamentals</span><a href="#fundamentals" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>

<p>Redis (Remote Dictionary Server) is an open-source, in-memory data structure store that serves as a database, cache, and message broker. It’s known for its blazing-fast performance and versatility, making it a popular choice for various applications.</p>

<pre><code class="language-mermaid">graph LR
subgraph redisFundamentals["🗄️ Redis Fundamentals"]
    dataStructures["📊 Data Structures"]
    persistence["💾 Persistence"]
    transactions["🔄 Transactions"]
    pubSub["📡 Pub/Sub"]
end

style redisFundamentals fill:#e6f3ff,stroke:#333,stroke-width:2px
</code></pre>

<h2 id="data-structures"><span class="me-2">Data Structures</span><a href="#data-structures" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>

<p>Redis supports several data structures, each optimized for specific use cases:</p>

<pre><code class="language-mermaid">graph LR
subgraph dataStructures["📊 Data Structures"]
    strings["🔤 Strings"]
    lists["📜 Lists"]
    sets["🎭 Sets"]
    sortedSets["🏆 Sorted Sets"]
    hashes["🗝️ Hashes"]
end

strings --&gt; |"store"| simpleValues["Simple Values"]
lists --&gt; |"maintain"| orderedElements["Ordered Elements"]
sets --&gt; |"hold"| uniqueItems["Unique Items"]
sortedSets --&gt; |"combine"| uniqueScored["Unique Scored Items"]
hashes --&gt; |"represent"| fieldValuePairs["Field-Value Pairs"]

style dataStructures fill:#fff0f5,stroke:#333,stroke-width:2px
</code></pre>

<p>Before using ioredis, initialize the client:</p>

<div class="language-javascript highlighter-rouge"><div class="code-header">
        <span data-label-text="JavaScript"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre><span class="kd">const</span> <span class="nx">Redis</span> <span class="o">=</span> <span class="nf">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">ioredis</span><span class="dl">'</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">redis</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Redis</span><span class="p">();</span>
</pre></td></tr></tbody></table></code></div></div>

<ul>
  <li><strong>Strings</strong>: Basic key-value pairs, ideal for caching simple values.
    <div class="language-js highlighter-rouge"><div class="code-header">
        <span data-label-text="JavaScript"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre></td><td class="rouge-code"><pre><span class="err">#</span> <span class="nx">Redis</span> <span class="nx">CLI</span>
<span class="nx">SET</span> <span class="nx">user</span><span class="p">:</span><span class="mi">1</span><span class="p">:</span><span class="nx">name</span> <span class="dl">"</span><span class="s2">John Doe</span><span class="dl">"</span>
<span class="nx">GET</span> <span class="nx">user</span><span class="p">:</span><span class="mi">1</span><span class="p">:</span><span class="nx">name</span>

<span class="err">#</span> <span class="nx">ioredis</span>
<span class="k">await</span> <span class="nx">redis</span><span class="p">.</span><span class="nf">set</span><span class="p">(</span><span class="dl">'</span><span class="s1">user:1:name</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">John Doe</span><span class="dl">'</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">name</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">redis</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="dl">'</span><span class="s1">user:1:name</span><span class="dl">'</span><span class="p">);</span>
</pre></td></tr></tbody></table></code></div>    </div>
  </li>
  <li><strong>Lists</strong>: Ordered collections of strings, perfect for queues or recent updates.
    <div class="language-js highlighter-rouge"><div class="code-header">
        <span data-label-text="JavaScript"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre></td><td class="rouge-code"><pre><span class="err">#</span> <span class="nx">Redis</span> <span class="nx">CLI</span>
<span class="nx">LPUSH</span> <span class="nx">latest_news</span> <span class="dl">"</span><span class="s2">Breaking: New Discovery</span><span class="dl">"</span>
<span class="nx">LRANGE</span> <span class="nx">latest_news</span> <span class="mi">0</span> <span class="o">-</span><span class="mi">1</span>

<span class="err">#</span> <span class="nx">ioredis</span>
<span class="k">await</span> <span class="nx">redis</span><span class="p">.</span><span class="nf">lpush</span><span class="p">(</span><span class="dl">'</span><span class="s1">latest_news</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">Breaking: New Discovery</span><span class="dl">'</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">news</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">redis</span><span class="p">.</span><span class="nf">lrange</span><span class="p">(</span><span class="dl">'</span><span class="s1">latest_news</span><span class="dl">'</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">);</span>
</pre></td></tr></tbody></table></code></div>    </div>
  </li>
  <li><strong>Sets</strong>: Unordered collections of unique strings, useful for tagging or unique visitor tracking.
    <div class="language-js highlighter-rouge"><div class="code-header">
        <span data-label-text="JavaScript"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre></td><td class="rouge-code"><pre><span class="err">#</span> <span class="nx">Redis</span> <span class="nx">CLI</span>
<span class="nx">SADD</span> <span class="nx">user</span><span class="p">:</span><span class="mi">1</span><span class="p">:</span><span class="nx">skills</span> <span class="dl">"</span><span class="s2">python</span><span class="dl">"</span> <span class="dl">"</span><span class="s2">javascript</span><span class="dl">"</span> <span class="dl">"</span><span class="s2">redis</span><span class="dl">"</span>
<span class="nx">SMEMBERS</span> <span class="nx">user</span><span class="p">:</span><span class="mi">1</span><span class="p">:</span><span class="nx">skills</span>

<span class="err">#</span> <span class="nx">ioredis</span>
<span class="k">await</span> <span class="nx">redis</span><span class="p">.</span><span class="nf">sadd</span><span class="p">(</span><span class="dl">'</span><span class="s1">user:1:skills</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">python</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">javascript</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">redis</span><span class="dl">'</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">skills</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">redis</span><span class="p">.</span><span class="nf">smembers</span><span class="p">(</span><span class="dl">'</span><span class="s1">user:1:skills</span><span class="dl">'</span><span class="p">);</span>
</pre></td></tr></tbody></table></code></div>    </div>
  </li>
  <li><strong>Sorted Sets</strong>: Sets with a score for each member, great for leaderboards or priority queues.
    <div class="language-js highlighter-rouge"><div class="code-header">
        <span data-label-text="JavaScript"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre></td><td class="rouge-code"><pre><span class="err">#</span> <span class="nx">Redis</span> <span class="nx">CLI</span>
<span class="nx">ZADD</span> <span class="nx">leaderboard</span> <span class="mi">100</span> <span class="dl">"</span><span class="s2">player1</span><span class="dl">"</span> <span class="mi">95</span> <span class="dl">"</span><span class="s2">player2</span><span class="dl">"</span> <span class="mi">120</span> <span class="dl">"</span><span class="s2">player3</span><span class="dl">"</span>
<span class="nx">ZRANGE</span> <span class="nx">leaderboard</span> <span class="mi">0</span> <span class="o">-</span><span class="mi">1</span> <span class="nx">WITHSCORES</span>

<span class="err">#</span> <span class="nx">ioredis</span>
<span class="k">await</span> <span class="nx">redis</span><span class="p">.</span><span class="nf">zadd</span><span class="p">(</span><span class="dl">'</span><span class="s1">leaderboard</span><span class="dl">'</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="dl">'</span><span class="s1">player1</span><span class="dl">'</span><span class="p">,</span> <span class="mi">95</span><span class="p">,</span> <span class="dl">'</span><span class="s1">player2</span><span class="dl">'</span><span class="p">,</span> <span class="mi">120</span><span class="p">,</span> <span class="dl">'</span><span class="s1">player3</span><span class="dl">'</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">leaderboard</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">redis</span><span class="p">.</span><span class="nf">zrange</span><span class="p">(</span><span class="dl">'</span><span class="s1">leaderboard</span><span class="dl">'</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="dl">'</span><span class="s1">WITHSCORES</span><span class="dl">'</span><span class="p">);</span>
</pre></td></tr></tbody></table></code></div>    </div>
  </li>
  <li><strong>Hashes</strong>: Maps between string fields and string values, representing objects.
    <div class="language-js highlighter-rouge"><div class="code-header">
        <span data-label-text="JavaScript"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre></td><td class="rouge-code"><pre><span class="err">#</span> <span class="nx">Redis</span> <span class="nx">CLI</span>
<span class="nx">HSET</span> <span class="nx">user</span><span class="p">:</span><span class="mi">1</span> <span class="nx">name</span> <span class="dl">"</span><span class="s2">John Doe</span><span class="dl">"</span> <span class="nx">age</span> <span class="dl">"</span><span class="s2">30</span><span class="dl">"</span> <span class="nx">city</span> <span class="dl">"</span><span class="s2">New York</span><span class="dl">"</span>
<span class="nx">HGETALL</span> <span class="nx">user</span><span class="p">:</span><span class="mi">1</span>

<span class="err">#</span> <span class="nx">ioredis</span>
<span class="k">await</span> <span class="nx">redis</span><span class="p">.</span><span class="nf">hset</span><span class="p">(</span><span class="dl">'</span><span class="s1">user:1</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">name</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">John Doe</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">age</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">30</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">city</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">New York</span><span class="dl">'</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">user</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">redis</span><span class="p">.</span><span class="nf">hgetall</span><span class="p">(</span><span class="dl">'</span><span class="s1">user:1</span><span class="dl">'</span><span class="p">);</span>
</pre></td></tr></tbody></table></code></div>    </div>
  </li>
</ul>

<pre><code class="language-mermaid">graph LR
    subgraph redisCommands["📁 Redis Commands by Data Structure"]
        subgraph strings["🔤 Strings"]
            setCommand["fa:fa-file-code SET"]
            getCommand["fa:fa-search GET"]
        end
        
        subgraph lists["📜 Lists"]
            lpushCommand["fa:fa-plus-circle LPUSH"]
            rpushCommand["fa:fa-plus-circle RPUSH"]
            lpopCommand["fa:fa-minus-circle LPOP"]
            rpopCommand["fa:fa-minus-circle RPOP"]
        end
        
        subgraph sets["🎭 Sets"]
            saddCommand["fa:fa-plus SADD"]
            sremCommand["fa:fa-minus SREM"]
            smembersCommand["fa:fa-list SMEMBERS"]
            sismemberCommand["fa:fa-question SISMEMBER"]
        end
        
        subgraph sortedSets["🏆 Sorted Sets"]
            zaddCommand["fa:fa-plus ZADD"]
            zremCommand["fa:fa-minus ZREM"]
            zrangeCommand["fa:fa-sort-amount-asc ZRANGE"]
            zrankCommand["fa:fa-signal ZRANK"]
        end
        
        subgraph hashes["🗝️ Hashes"]
            hsetCommand["fa:fa-file-code HSET"]
            hgetCommand["fa:fa-search HGET"]
        end
        
        subgraph general["🔧 General"]
            delCommand["fa:fa-trash DEL"]
        end
    end

    style redisCommands fill:#e0f7fa,stroke:#0288d1,stroke-width:2px
    style strings fill:#e8f5e9,stroke:#4caf50,stroke-width:2px
    style lists fill:#f3e5f5,stroke:#9c27b0,stroke-width:2px
    style sets fill:#ffe0b2,stroke:#ff9800,stroke-width:2px
    style sortedSets fill:#fff3e0,stroke:#ff9800,stroke-width:2px
    style hashes fill:#f1f8e9,stroke:#8bc34a,stroke-width:2px
    style general fill:#ffebee,stroke:#e91e63,stroke-width:2px
</code></pre>

<h2 id="transactions"><span class="me-2">Transactions</span><a href="#transactions" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>

<p>Redis Transactions allow executing a group of commands atomically. They involve commands like MULTI, EXEC, DISCARD, and WATCH. Transactions guarantee that commands are executed in sequence, ensuring isolation from other client requests. If EXEC is called, all queued commands are executed. If not, none are executed.</p>

<p>Transactions also support optimistic locking using WATCH, which monitors keys for changes. If any watched key is modified before EXEC, the transaction aborts.</p>

<pre><code class="language-mermaid">graph LR
    subgraph transactionFlow["Redis Transaction Flow"]
        watch["WATCH key(s)"] --&gt;|"Optional"| startTransaction
        startTransaction["MULTI"] --&gt; queueOperations
        subgraph queueOperations["Queue Operations"]
            operation1["Operation 1"] --&gt; operation2["Operation 2"]
            operation2 --&gt; operation3["... Operation N"]
        end
        queueOperations --&gt;|"Execute"| executeTransaction["EXEC"]
        queueOperations --&gt;|"Cancel"| discardTransaction["DISCARD"]
        executeTransaction --&gt;|"Success"| logSuccess["Transaction Complete"]
        executeTransaction --&gt;|"Error"| logError["Error Logged"]
        executeTransaction --&gt;|"WATCH triggered"| watchTriggered["Transaction Aborted"]
    end

    classDef default stroke:#333,stroke-width:2px;
    classDef watch fill:#e1bee7,stroke:#8e24aa,stroke-width:2px;
    classDef multi fill:#bbdefb,stroke:#1976d2,stroke-width:2px;
    classDef queue fill:#c8e6c9,stroke:#388e3c,stroke-width:2px;
    classDef exec fill:#fff9c4,stroke:#fbc02d,stroke-width:2px;
    classDef discard fill:#ffcdd2,stroke:#d32f2f,stroke-width:2px;
    classDef success fill:#dcedc8,stroke:#689f38,stroke-width:2px;
    classDef failure fill:#ffcdd2,stroke:#d32f2f,stroke-width:2px;

    class watch watch;
    class startTransaction multi;
    class operation1,operation2,operation3 queue;
    class executeTransaction exec;
    class discardTransaction discard;
    class logSuccess success;
    class logError,watchTriggered failure;
</code></pre>

<div class="language-js highlighter-rouge"><div class="code-header">
        <span data-label-text="JavaScript"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
</pre></td><td class="rouge-code"><pre>
<span class="c1">// Redis CLI</span>
<span class="nx">WATCH</span> <span class="nx">mykey</span>
<span class="nx">val</span> <span class="o">=</span> <span class="nx">GET</span> <span class="nx">mykey</span>
<span class="c1">// ... perform some check or calculation with val ...</span>
<span class="nx">MULTI</span>
<span class="nx">SET</span> <span class="nx">mykey</span> <span class="nx">newval</span>
<span class="c1">// ... other commands ...</span>
<span class="nx">EXEC</span>

<span class="c1">// ioredis</span>
<span class="kd">const</span> <span class="nx">Redis</span> <span class="o">=</span> <span class="nf">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">ioredis</span><span class="dl">'</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">redis</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Redis</span><span class="p">();</span>

<span class="k">async</span> <span class="kd">function</span> <span class="nf">performTransactionWithOptimisticLock</span><span class="p">(</span><span class="nx">key</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">try</span> <span class="p">{</span>
    <span class="k">await</span> <span class="nx">redis</span><span class="p">.</span><span class="nf">watch</span><span class="p">(</span><span class="nx">key</span><span class="p">);</span>
    
    <span class="c1">// Get the current value and perform some operation</span>
    <span class="kd">const</span> <span class="nx">currentVal</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">redis</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="nx">key</span><span class="p">);</span>
    <span class="kd">const</span> <span class="nx">newVal</span> <span class="o">=</span> <span class="nf">someOperation</span><span class="p">(</span><span class="nx">currentVal</span><span class="p">);</span>

    <span class="c1">// Perform the transaction</span>
    <span class="kd">const</span> <span class="nx">result</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">redis</span>
      <span class="p">.</span><span class="nf">multi</span><span class="p">()</span>
      <span class="p">.</span><span class="nf">set</span><span class="p">(</span><span class="nx">key</span><span class="p">,</span> <span class="nx">newVal</span><span class="p">)</span>
      <span class="c1">// ... other commands ...</span>
      <span class="p">.</span><span class="nf">exec</span><span class="p">();</span>
    
    <span class="k">if </span><span class="p">(</span><span class="nx">result</span> <span class="o">===</span> <span class="kc">null</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">console</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">Transaction aborted due to concurrent modification</span><span class="dl">'</span><span class="p">);</span>
      <span class="k">return</span> <span class="kc">false</span><span class="p">;</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
      <span class="nx">console</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">Transaction successful:</span><span class="dl">'</span><span class="p">,</span> <span class="nx">result</span><span class="p">);</span>
      <span class="k">return</span> <span class="kc">true</span><span class="p">;</span>
    <span class="p">}</span>
  <span class="p">}</span> <span class="k">catch </span><span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nf">error</span><span class="p">(</span><span class="dl">'</span><span class="s1">Transaction error:</span><span class="dl">'</span><span class="p">,</span> <span class="nx">error</span><span class="p">);</span>
    <span class="k">return</span> <span class="kc">false</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nf">someOperation</span><span class="p">(</span><span class="nx">value</span><span class="p">)</span> <span class="p">{</span>
  <span class="c1">// Perform some operation on the value</span>
  <span class="k">return</span> <span class="nx">value</span><span class="p">;</span> <span class="c1">// Placeholder for actual operation</span>
<span class="p">}</span>

<span class="c1">// Usage</span>
<span class="nf">performTransactionWithOptimisticLock</span><span class="p">(</span><span class="dl">'</span><span class="s1">mykey</span><span class="dl">'</span><span class="p">)</span>
  <span class="p">.</span><span class="nf">then</span><span class="p">(</span><span class="nx">success</span> <span class="o">=&gt;</span> <span class="nx">console</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">Transaction success:</span><span class="dl">'</span><span class="p">,</span> <span class="nx">success</span><span class="p">))</span>
  <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="nx">error</span> <span class="o">=&gt;</span> <span class="nx">console</span><span class="p">.</span><span class="nf">error</span><span class="p">(</span><span class="dl">'</span><span class="s1">Error:</span><span class="dl">'</span><span class="p">,</span> <span class="nx">error</span><span class="p">))</span>
  <span class="p">.</span><span class="k">finally</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="nx">redis</span><span class="p">.</span><span class="nf">quit</span><span class="p">());</span>
</pre></td></tr></tbody></table></code></div></div>

<p>Redis transactions don’t support partial execution or <strong>rollbacks</strong>. In the scenario of 10 operations, it’s not possible for only 4 to succeed. Either all operations in the transaction are executed, or none are. This is a key feature of Redis transactions - they are atomic</p>

<p>If a watched key is changed between MULTI and EXEC, no error is thrown. Instead, the transaction is quietly aborted, and EXEC returns a null result (in ioredis) or an empty array (in Redis CLI). It’s up to your code to check for this condition and handle it appropriately.</p>

<h2 id="caching-layer"><span class="me-2">Caching Layer</span><a href="#caching-layer" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>

<p>Redis is an excellent choice for implementing a caching layer in Node.js applications due to its speed and ease of use. By caching frequently accessed data in Redis, you can significantly reduce the load on your database and improve response times for your users.</p>

<div class="language-javascript highlighter-rouge"><div class="code-header">
        <span data-label-text="JavaScript"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
</pre></td><td class="rouge-code"><pre><span class="kd">const</span> <span class="nx">express</span> <span class="o">=</span> <span class="nf">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">express</span><span class="dl">'</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">Redis</span> <span class="o">=</span> <span class="nf">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">ioredis</span><span class="dl">'</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">app</span> <span class="o">=</span> <span class="nf">express</span><span class="p">();</span>

<span class="c1">// Initialize Redis client</span>
<span class="kd">const</span> <span class="nx">redis</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Redis</span><span class="p">();</span>

<span class="c1">// Middleware to check cache</span>
<span class="k">async</span> <span class="kd">function</span> <span class="nf">cache</span><span class="p">(</span><span class="nx">req</span><span class="p">,</span> <span class="nx">res</span><span class="p">,</span> <span class="nx">next</span><span class="p">)</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="p">{</span> <span class="nx">id</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">req</span><span class="p">.</span><span class="nx">params</span><span class="p">;</span>
  
  <span class="k">try</span> <span class="p">{</span>
    <span class="c1">// Check if the data is in Redis</span>
    <span class="kd">const</span> <span class="nx">cachedData</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">redis</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="s2">`user:</span><span class="p">${</span><span class="nx">id</span><span class="p">}</span><span class="s2">`</span><span class="p">);</span>
    
    <span class="k">if </span><span class="p">(</span><span class="nx">cachedData</span><span class="p">)</span> <span class="p">{</span>
      <span class="c1">// If found, serve from cache</span>
      <span class="k">return</span> <span class="nx">res</span><span class="p">.</span><span class="nf">json</span><span class="p">(</span><span class="nx">JSON</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span><span class="nx">cachedData</span><span class="p">));</span>
    <span class="p">}</span>
    
    <span class="c1">// If not found, proceed to the next middleware</span>
    <span class="nf">next</span><span class="p">();</span>
  <span class="p">}</span> <span class="k">catch </span><span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nf">error</span><span class="p">(</span><span class="dl">'</span><span class="s1">Error checking cache:</span><span class="dl">'</span><span class="p">,</span> <span class="nx">err</span><span class="p">);</span>
    <span class="nf">next</span><span class="p">();</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="c1">// Route to get user data</span>
<span class="nx">app</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="dl">'</span><span class="s1">/user/:id</span><span class="dl">'</span><span class="p">,</span> <span class="nx">cache</span><span class="p">,</span> <span class="k">async </span><span class="p">(</span><span class="nx">req</span><span class="p">,</span> <span class="nx">res</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="p">{</span> <span class="nx">id</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">req</span><span class="p">.</span><span class="nx">params</span><span class="p">;</span>
  
  <span class="k">try</span> <span class="p">{</span>
    <span class="c1">// Simulate a database query</span>
    <span class="kd">const</span> <span class="nx">user</span> <span class="o">=</span> <span class="k">await</span> <span class="nf">getUserFromDatabase</span><span class="p">(</span><span class="nx">id</span><span class="p">);</span>
    
    <span class="c1">// Cache the result in Redis</span>
    <span class="k">await</span> <span class="nx">redis</span><span class="p">.</span><span class="nf">set</span><span class="p">(</span><span class="s2">`user:</span><span class="p">${</span><span class="nx">id</span><span class="p">}</span><span class="s2">`</span><span class="p">,</span> <span class="nx">JSON</span><span class="p">.</span><span class="nf">stringify</span><span class="p">(</span><span class="nx">user</span><span class="p">),</span> <span class="dl">'</span><span class="s1">EX</span><span class="dl">'</span><span class="p">,</span> <span class="mi">3600</span><span class="p">);</span> <span class="c1">// Cache for 1 hour</span>
    
    <span class="nx">res</span><span class="p">.</span><span class="nf">json</span><span class="p">(</span><span class="nx">user</span><span class="p">);</span>
  <span class="p">}</span> <span class="k">catch </span><span class="p">(</span><span class="nx">err</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nf">error</span><span class="p">(</span><span class="dl">'</span><span class="s1">Error fetching user:</span><span class="dl">'</span><span class="p">,</span> <span class="nx">err</span><span class="p">);</span>
    <span class="nx">res</span><span class="p">.</span><span class="nf">status</span><span class="p">(</span><span class="mi">500</span><span class="p">).</span><span class="nf">send</span><span class="p">(</span><span class="dl">'</span><span class="s1">Server error</span><span class="dl">'</span><span class="p">);</span>
  <span class="p">}</span>
<span class="p">});</span>

<span class="c1">// Simulated database query function</span>
<span class="k">async</span> <span class="kd">function</span> <span class="nf">getUserFromDatabase</span><span class="p">(</span><span class="nx">id</span><span class="p">)</span> <span class="p">{</span>
  <span class="c1">// Placeholder for actual database query</span>

<span class="p">}</span>

<span class="c1">// Start the server</span>
<span class="nx">app</span><span class="p">.</span><span class="nf">listen</span><span class="p">(</span><span class="mi">3000</span><span class="p">,</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">Server running on port 3000</span><span class="dl">'</span><span class="p">);</span>
<span class="p">});</span>
</pre></td></tr></tbody></table></code></div></div>

<h3 id="key-concepts"><span class="me-2">Key Concepts</span><a href="#key-concepts" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<ul>
  <li><strong>Cache Key</strong>: The key used to store and retrieve data from Redis. In the example above, <code class="language-plaintext highlighter-rouge">user:${id}</code> is used as the key.</li>
  <li><strong>Expiration (TTL)</strong>: The time-to-live (TTL) for cached data, set using the <code class="language-plaintext highlighter-rouge">EX</code> option in Redis. This ensures that stale data is automatically removed after a certain period.</li>
  <li><strong>Cache Miss</strong>: When data is not found in the cache, requiring a query to the database.</li>
  <li><strong>Cache Hit</strong>: When data is found in the cache, allowing the request to be served without querying the database.</li>
</ul>

<h3 id="caching-strategies"><span class="me-2">Caching Strategies</span><a href="#caching-strategies" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<ul>
  <li><strong>Lazy Caching (Cache-aside)</strong>: The application checks the cache first, and if the data isn’t found, it queries the database and caches the result. This is the approach demonstrated above.</li>
  <li><strong>Write-through Caching</strong>: Data is written to the cache at the same time it is written to the database, ensuring that the cache is always up-to-date.</li>
  <li><strong>Read-through Caching</strong>: The application always queries the cache first. If the data is not found, the cache itself fetches the data from the database and updates the cache.</li>
</ul>

<h4 id="lazy-caching-cache-aside"><span class="me-2">Lazy Caching (Cache-aside)</span><a href="#lazy-caching-cache-aside" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4>

<pre><code class="language-mermaid">flowchart TD
    subgraph lazyCaching["🐢 Lazy Caching (Cache-aside)"]
        style lazyCaching fill:#e6f7ff,stroke:#69c0ff
        
        app["📱 Application"]
        cache["💾 Redis Cache"]
        db["🗄️ Database"]
        
        app --&gt; |"1. Check cache"| cache
        cache --&gt; |"2. Cache miss"| app
        app --&gt; |"3. Query database"| db
        db --&gt; |"4. Return data"| app
        app --&gt; |"5. Update cache"| cache
    end
</code></pre>

<p>Lazy caching checks the cache first and only queries the database on a cache miss.</p>

<div class="language-javascript highlighter-rouge"><div class="code-header">
        <span data-label-text="JavaScript"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
</pre></td><td class="rouge-code"><pre><span class="nx">app</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="dl">'</span><span class="s1">/user/:id</span><span class="dl">'</span><span class="p">,</span> <span class="k">async </span><span class="p">(</span><span class="nx">req</span><span class="p">,</span> <span class="nx">res</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="p">{</span> <span class="nx">id</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">req</span><span class="p">.</span><span class="nx">params</span><span class="p">;</span>
  <span class="kd">const</span> <span class="nx">cacheKey</span> <span class="o">=</span> <span class="s2">`user:</span><span class="p">${</span><span class="nx">id</span><span class="p">}</span><span class="s2">`</span><span class="p">;</span>

  <span class="k">try</span> <span class="p">{</span>
    <span class="kd">let</span> <span class="nx">userData</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">redis</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="nx">cacheKey</span><span class="p">);</span>

    <span class="k">if </span><span class="p">(</span><span class="o">!</span><span class="nx">userData</span><span class="p">)</span> <span class="p">{</span>
      <span class="kd">const</span> <span class="nx">result</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">pool</span><span class="p">.</span><span class="nf">query</span><span class="p">(</span><span class="dl">'</span><span class="s1">SELECT * FROM users WHERE id = $1</span><span class="dl">'</span><span class="p">,</span> <span class="p">[</span><span class="nx">id</span><span class="p">]);</span>
      <span class="nx">userData</span> <span class="o">=</span> <span class="nx">result</span><span class="p">.</span><span class="nx">rows</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span>

      <span class="k">if </span><span class="p">(</span><span class="nx">userData</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">await</span> <span class="nx">redis</span><span class="p">.</span><span class="nf">setex</span><span class="p">(</span><span class="nx">cacheKey</span><span class="p">,</span> <span class="mi">3600</span><span class="p">,</span> <span class="nx">JSON</span><span class="p">.</span><span class="nf">stringify</span><span class="p">(</span><span class="nx">userData</span><span class="p">));</span>
      <span class="p">}</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
      <span class="nx">userData</span> <span class="o">=</span> <span class="nx">JSON</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span><span class="nx">userData</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="nx">res</span><span class="p">.</span><span class="nf">json</span><span class="p">(</span><span class="nx">userData</span> <span class="o">||</span> <span class="p">{</span> <span class="na">error</span><span class="p">:</span> <span class="dl">'</span><span class="s1">User not found</span><span class="dl">'</span> <span class="p">});</span>
  <span class="p">}</span> <span class="k">catch </span><span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nf">error</span><span class="p">(</span><span class="dl">'</span><span class="s1">Error:</span><span class="dl">'</span><span class="p">,</span> <span class="nx">error</span><span class="p">);</span>
    <span class="nx">res</span><span class="p">.</span><span class="nf">status</span><span class="p">(</span><span class="mi">500</span><span class="p">).</span><span class="nf">json</span><span class="p">({</span> <span class="na">error</span><span class="p">:</span> <span class="dl">'</span><span class="s1">Internal server error</span><span class="dl">'</span> <span class="p">});</span>
  <span class="p">}</span>
<span class="p">});</span>
</pre></td></tr></tbody></table></code></div></div>

<p>Pros:</p>
<ul>
  <li>Reduced database load</li>
  <li>Faster response times for cached data</li>
  <li>Only caches data that is actually requested</li>
</ul>

<p>Cons:</p>
<ul>
  <li>Initial requests for uncached data are slower</li>
  <li>Potential for stale data if not properly invalidated</li>
  <li>Complexity in managing cache consistency</li>
</ul>

<h4 id="write-through-caching"><span class="me-2">Write-through Caching</span><a href="#write-through-caching" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4>

<pre><code class="language-mermaid">flowchart TD
    subgraph writeThroughCaching["✍️ Write-through Caching"]
        style writeThroughCaching fill:#f6ffed,stroke:#95de64
        
        app["📱 Application"]
        cache["💾 Redis Cache"]
        db["🗄️ Database"]
        
        app --&gt; |"1. Write data"| cache
        app --&gt; |"1. Write data"| db
        cache --&gt; |"2. Acknowledge"| app
        db --&gt; |"2. Acknowledge"| app
    end
</code></pre>

<p>Write-through caching updates both the cache and the database simultaneously.</p>

<div class="language-javascript highlighter-rouge"><div class="code-header">
        <span data-label-text="JavaScript"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
</pre></td><td class="rouge-code"><pre><span class="nx">app</span><span class="p">.</span><span class="nf">post</span><span class="p">(</span><span class="dl">'</span><span class="s1">/user</span><span class="dl">'</span><span class="p">,</span> <span class="k">async </span><span class="p">(</span><span class="nx">req</span><span class="p">,</span> <span class="nx">res</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="p">{</span> <span class="nx">userData</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">req</span><span class="p">.</span><span class="nx">body</span><span class="p">;</span>
  <span class="kd">const</span> <span class="nx">userId</span> <span class="o">=</span> <span class="nf">generateUniqueId</span><span class="p">();</span>
  <span class="kd">const</span> <span class="nx">cacheKey</span> <span class="o">=</span> <span class="s2">`user:</span><span class="p">${</span><span class="nx">userId</span><span class="p">}</span><span class="s2">`</span><span class="p">;</span>

  <span class="k">try</span> <span class="p">{</span>
    <span class="k">await</span> <span class="nb">Promise</span><span class="p">.</span><span class="nf">all</span><span class="p">([</span>
      <span class="nx">redis</span><span class="p">.</span><span class="nf">setex</span><span class="p">(</span><span class="nx">cacheKey</span><span class="p">,</span> <span class="mi">3600</span><span class="p">,</span> <span class="nx">JSON</span><span class="p">.</span><span class="nf">stringify</span><span class="p">(</span><span class="nx">userData</span><span class="p">)),</span>
      <span class="nx">pool</span><span class="p">.</span><span class="nf">query</span><span class="p">(</span><span class="dl">'</span><span class="s1">INSERT INTO users (id, data) VALUES ($1, $2)</span><span class="dl">'</span><span class="p">,</span> <span class="p">[</span><span class="nx">userId</span><span class="p">,</span> <span class="nx">userData</span><span class="p">])</span>
    <span class="p">]);</span>

    <span class="nx">res</span><span class="p">.</span><span class="nf">json</span><span class="p">({</span> <span class="na">message</span><span class="p">:</span> <span class="dl">'</span><span class="s1">User created successfully</span><span class="dl">'</span><span class="p">,</span> <span class="nx">userId</span> <span class="p">});</span>
  <span class="p">}</span> <span class="k">catch </span><span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nf">error</span><span class="p">(</span><span class="dl">'</span><span class="s1">Error:</span><span class="dl">'</span><span class="p">,</span> <span class="nx">error</span><span class="p">);</span>
    <span class="nx">res</span><span class="p">.</span><span class="nf">status</span><span class="p">(</span><span class="mi">500</span><span class="p">).</span><span class="nf">json</span><span class="p">({</span> <span class="na">error</span><span class="p">:</span> <span class="dl">'</span><span class="s1">Internal server error</span><span class="dl">'</span> <span class="p">});</span>
  <span class="p">}</span>
<span class="p">});</span>
</pre></td></tr></tbody></table></code></div></div>

<p>Pros:</p>
<ul>
  <li>Cache is always up-to-date with the database</li>
  <li>Simplified read operations</li>
</ul>

<p>Cons:</p>
<ul>
  <li>Increased write latency</li>
  <li>Higher resource usage for writes</li>
  <li>May cache infrequently accessed data</li>
</ul>

<h4 id="read-through-caching"><span class="me-2">Read-through Caching</span><a href="#read-through-caching" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4>

<pre><code class="language-mermaid">flowchart TD
    subgraph readThroughCaching["📖 Read-through Caching"]
        style readThroughCaching fill:#fff7e6,stroke:#ffd591
        
        app["📱 Application"]
        cache["💾 Redis Cache"]
        db["🗄️ Database"]
        
        app --&gt; |"1. Request data"| cache
        cache --&gt; |"2. Cache miss"| db
        db --&gt; |"3. Return data"| cache
        cache --&gt; |"4. Update cache"| cache
        cache --&gt; |"5. Return data"| app
    end
</code></pre>

<p>Read-through caching handles cache misses transparently, with the cache itself responsible for loading data from the database.</p>

<div class="language-javascript highlighter-rouge"><div class="code-header">
        <span data-label-text="JavaScript"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
</pre></td><td class="rouge-code"><pre><span class="kd">class</span> <span class="nc">ReadThroughCache</span> <span class="p">{</span>
  <span class="nf">constructor</span><span class="p">(</span><span class="nx">redis</span><span class="p">,</span> <span class="nx">db</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">redis</span> <span class="o">=</span> <span class="nx">redis</span><span class="p">;</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">db</span> <span class="o">=</span> <span class="nx">db</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="k">async</span> <span class="nf">get</span><span class="p">(</span><span class="nx">key</span><span class="p">,</span> <span class="nx">fetchFn</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">let</span> <span class="nx">data</span> <span class="o">=</span> <span class="k">await</span> <span class="k">this</span><span class="p">.</span><span class="nx">redis</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="nx">key</span><span class="p">);</span>

    <span class="k">if </span><span class="p">(</span><span class="o">!</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">data</span> <span class="o">=</span> <span class="k">await</span> <span class="nf">fetchFn</span><span class="p">();</span>
      <span class="k">if </span><span class="p">(</span><span class="nx">data</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">await</span> <span class="k">this</span><span class="p">.</span><span class="nx">redis</span><span class="p">.</span><span class="nf">setex</span><span class="p">(</span><span class="nx">key</span><span class="p">,</span> <span class="mi">3600</span><span class="p">,</span> <span class="nx">JSON</span><span class="p">.</span><span class="nf">stringify</span><span class="p">(</span><span class="nx">data</span><span class="p">));</span>
      <span class="p">}</span>
    <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
      <span class="nx">data</span> <span class="o">=</span> <span class="nx">JSON</span><span class="p">.</span><span class="nf">parse</span><span class="p">(</span><span class="nx">data</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="k">return</span> <span class="nx">data</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="kd">const</span> <span class="nx">cache</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ReadThroughCache</span><span class="p">(</span><span class="nx">redis</span><span class="p">,</span> <span class="nx">pool</span><span class="p">);</span>

<span class="nx">app</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="dl">'</span><span class="s1">/user/:id</span><span class="dl">'</span><span class="p">,</span> <span class="k">async </span><span class="p">(</span><span class="nx">req</span><span class="p">,</span> <span class="nx">res</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="p">{</span> <span class="nx">id</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">req</span><span class="p">.</span><span class="nx">params</span><span class="p">;</span>
  <span class="kd">const</span> <span class="nx">cacheKey</span> <span class="o">=</span> <span class="s2">`user:</span><span class="p">${</span><span class="nx">id</span><span class="p">}</span><span class="s2">`</span><span class="p">;</span>

  <span class="k">try</span> <span class="p">{</span>
    <span class="kd">const</span> <span class="nx">userData</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">cache</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="nx">cacheKey</span><span class="p">,</span> <span class="k">async </span><span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="kd">const</span> <span class="nx">result</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">pool</span><span class="p">.</span><span class="nf">query</span><span class="p">(</span><span class="dl">'</span><span class="s1">SELECT * FROM users WHERE id = $1</span><span class="dl">'</span><span class="p">,</span> <span class="p">[</span><span class="nx">id</span><span class="p">]);</span>
      <span class="k">return</span> <span class="nx">result</span><span class="p">.</span><span class="nx">rows</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span>
    <span class="p">});</span>

    <span class="nx">res</span><span class="p">.</span><span class="nf">json</span><span class="p">(</span><span class="nx">userData</span> <span class="o">||</span> <span class="p">{</span> <span class="na">error</span><span class="p">:</span> <span class="dl">'</span><span class="s1">User not found</span><span class="dl">'</span> <span class="p">});</span>
  <span class="p">}</span> <span class="k">catch </span><span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nf">error</span><span class="p">(</span><span class="dl">'</span><span class="s1">Error:</span><span class="dl">'</span><span class="p">,</span> <span class="nx">error</span><span class="p">);</span>
    <span class="nx">res</span><span class="p">.</span><span class="nf">status</span><span class="p">(</span><span class="mi">500</span><span class="p">).</span><span class="nf">json</span><span class="p">({</span> <span class="na">error</span><span class="p">:</span> <span class="dl">'</span><span class="s1">Internal server error</span><span class="dl">'</span> <span class="p">});</span>
  <span class="p">}</span>
<span class="p">});</span>
</pre></td></tr></tbody></table></code></div></div>

<p>Pros:</p>
<ul>
  <li>Simplified application logic</li>
  <li>Consistent caching behavior across the application</li>
  <li>Reduced chance of stale data compared to lazy loading</li>
</ul>

<p>Cons:</p>
<ul>
  <li>Increased complexity in cache implementation</li>
  <li>Potential for increased latency on cache misses</li>
  <li>May cache infrequently accessed data</li>
</ul>

<h2 id="pubsub"><span class="me-2">Pub/Sub</span><a href="#pubsub" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>

<p>Redis Pub/Sub (Publish/Subscribe) is a messaging paradigm where senders (publishers) send messages to channels without knowledge of which receivers (subscribers) will receive them. Subscribers express interest in one or more channels and only receive messages from the channels they’re subscribed to.</p>

<pre><code class="language-mermaid">graph LR
    subgraph pubSub["📡 Redis Pub/Sub System"]
        publisher["👤 Publisher"]
        subscriber1["👥 Subscriber 1"]
        subscriber2["👥 Subscriber 2"]
        channel1["📢 Channel 1"]
        channel2["📢 Channel 2"]
    end

    publisher --&gt;|"Publish"| channel1
    publisher --&gt;|"Publish"| channel2
    channel1 --&gt;|"Broadcast"| subscriber1
    channel1 --&gt;|"Broadcast"| subscriber2
    channel2 --&gt;|"Broadcast"| subscriber1

    style pubSub fill:#f5f5f5,stroke:#333,stroke-width:2px
    style publisher fill:#bbdefb,stroke:#1976d2,stroke-width:2px
    style subscriber1 fill:#c8e6c9,stroke:#388e3c,stroke-width:2px
    style subscriber2 fill:#c8e6c9,stroke:#388e3c,stroke-width:2px
    style channel1 fill:#ffe0b2,stroke:#f57c00,stroke-width:2px
    style channel2 fill:#ffe0b2,stroke:#f57c00,stroke-width:2px
</code></pre>

<ol>
  <li><strong>Channels</strong>: Named destinations for messages. They don’t need to be created explicitly.</li>
  <li><strong>Publishers</strong>: Clients that send messages to channels.</li>
  <li><strong>Subscribers</strong>: Clients that listen for messages on specific channels.</li>
  <li><strong>Messages</strong>: The data sent from publishers to subscribers via channels.</li>
</ol>

<h3 id="implementation-with-ioredis"><span class="me-2">Implementation with ioredis:</span><a href="#implementation-with-ioredis" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<ol>
  <li><strong>Setting up connections</strong>:
    <div class="language-javascript highlighter-rouge"><div class="code-header">
        <span data-label-text="JavaScript"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre><span class="kd">const</span> <span class="nx">publisher</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Redis</span><span class="p">();</span>
<span class="kd">const</span> <span class="nx">subscriber</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Redis</span><span class="p">();</span>
</pre></td></tr></tbody></table></code></div>    </div>
    <p>We create separate Redis connections for publishing and subscribing to avoid blocking issues.</p>
  </li>
  <li><strong>Subscribing to channels</strong>:
    <div class="language-javascript highlighter-rouge"><div class="code-header">
        <span data-label-text="JavaScript"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre></td><td class="rouge-code"><pre><span class="nx">subscriber</span><span class="p">.</span><span class="nf">subscribe</span><span class="p">(</span><span class="dl">'</span><span class="s1">news_channel</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">tech_channel</span><span class="dl">'</span><span class="p">,</span> <span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">count</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="c1">// Callback after subscription</span>
<span class="p">});</span>
</pre></td></tr></tbody></table></code></div>    </div>
    <p>A client can subscribe to multiple channels at once.</p>
  </li>
  <li><strong>Handling incoming messages</strong>:
    <div class="language-javascript highlighter-rouge"><div class="code-header">
        <span data-label-text="JavaScript"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre></td><td class="rouge-code"><pre><span class="nx">subscriber</span><span class="p">.</span><span class="nf">on</span><span class="p">(</span><span class="dl">'</span><span class="s1">message</span><span class="dl">'</span><span class="p">,</span> <span class="p">(</span><span class="nx">channel</span><span class="p">,</span> <span class="nx">message</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="s2">`Received </span><span class="p">${</span><span class="nx">message</span><span class="p">}</span><span class="s2"> from </span><span class="p">${</span><span class="nx">channel</span><span class="p">}</span><span class="s2">`</span><span class="p">);</span>
<span class="p">});</span>
</pre></td></tr></tbody></table></code></div>    </div>
    <p>This event listener is triggered for every message received on subscribed channels.</p>
  </li>
  <li><strong>Publishing messages</strong>:
    <div class="language-javascript highlighter-rouge"><div class="code-header">
        <span data-label-text="JavaScript"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre></td><td class="rouge-code"><pre><span class="nx">publisher</span><span class="p">.</span><span class="nf">publish</span><span class="p">(</span><span class="nx">channel</span><span class="p">,</span> <span class="nx">message</span><span class="p">,</span> <span class="p">(</span><span class="nx">err</span><span class="p">,</span> <span class="nx">count</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="c1">// Callback after publishing</span>
<span class="p">});</span>
</pre></td></tr></tbody></table></code></div>    </div>
    <p>This sends a message to a specified channel. The callback receives the count of subscribers who received the message.</p>
  </li>
  <li><strong>Unsubscribing and cleanup</strong>:
    <div class="language-javascript highlighter-rouge"><div class="code-header">
        <span data-label-text="JavaScript"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre></td><td class="rouge-code"><pre><span class="nx">subscriber</span><span class="p">.</span><span class="nf">unsubscribe</span><span class="p">();</span>
<span class="nx">subscriber</span><span class="p">.</span><span class="nf">quit</span><span class="p">();</span>
<span class="nx">publisher</span><span class="p">.</span><span class="nf">quit</span><span class="p">();</span>
</pre></td></tr></tbody></table></code></div>    </div>
    <p>It’s important to properly close connections when they’re no longer needed.</p>
  </li>
</ol>

<h3 id="use-cases"><span class="me-2">Use Cases:</span><a href="#use-cases" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<ol>
  <li><strong>Real-time notifications</strong>: Sending updates to multiple clients simultaneously.</li>
  <li><strong>Chat applications</strong>: Broadcasting messages to chat rooms or users.</li>
  <li><strong>Live feeds</strong>: Distributing live data (e.g., stock prices, sports scores).</li>
  <li><strong>Distributed system events</strong>: Communicating events across different parts of a distributed system.</li>
</ol>

<h3 id="considerations"><span class="me-2">Considerations:</span><a href="#considerations" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<ul>
  <li>Messages are fire-and-forget. If a subscriber is offline, it won’t receive messages sent while it was down.</li>
  <li>Redis Pub/Sub doesn’t persist messages. For message queuing with persistence, consider Redis Streams.</li>
  <li>Subscribers that are subscribed to channels are in “subscriber mode” and can only use a subset of Redis commands.</li>
</ul>

<h2 id="bullmq"><span class="me-2">BullMQ</span><a href="#bullmq" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>

<p>BullMQ is a modern, high-performance job queue for Node.js applications, built on top of Redis. It allows you to manage background jobs and tasks efficiently, leveraging Redis’s speed and reliability.</p>

<h3 id="key-concepts-1"><span class="me-2">Key Concepts</span><a href="#key-concepts-1" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<p>BullMQ is designed to be scalable and robust, providing several key features:</p>

<ul>
  <li><strong>Queues</strong>: Manage jobs and tasks by organizing them into queues.</li>
  <li><strong>Workers</strong>: Processes jobs from a queue, can be run concurrently.</li>
  <li><strong>Jobs</strong>: The tasks you want to process, with support for retries, delays, and prioritization.</li>
  <li><strong>Events</strong>: BullMQ emits events at different stages of a job’s lifecycle, such as when a job is completed, failed, or delayed.</li>
</ul>

<h3 id="basic-usage"><span class="me-2">Basic Usage</span><a href="#basic-usage" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<div class="language-javascript highlighter-rouge"><div class="code-header">
        <span data-label-text="JavaScript"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
</pre></td><td class="rouge-code"><pre>   <span class="kd">const</span> <span class="p">{</span> <span class="nx">Queue</span><span class="p">,</span> <span class="nx">Worker</span><span class="p">,</span> <span class="nx">QueueScheduler</span> <span class="p">}</span> <span class="o">=</span> <span class="nf">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">bullmq</span><span class="dl">'</span><span class="p">);</span>
   <span class="kd">const</span> <span class="nx">IORedis</span> <span class="o">=</span> <span class="nf">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">ioredis</span><span class="dl">'</span><span class="p">);</span>

   <span class="c1">// Redis connection</span>
   <span class="kd">const</span> <span class="nx">connection</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">IORedis</span><span class="p">();</span>

   <span class="c1">// Create a new queue</span>
   <span class="kd">const</span> <span class="nx">myQueue</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Queue</span><span class="p">(</span><span class="dl">'</span><span class="s1">myQueue</span><span class="dl">'</span><span class="p">,</span> <span class="p">{</span> <span class="nx">connection</span> <span class="p">});</span>

   <span class="c1">// Add a job to the queue</span>
   <span class="nx">myQueue</span><span class="p">.</span><span class="nf">add</span><span class="p">(</span><span class="dl">'</span><span class="s1">myJob</span><span class="dl">'</span><span class="p">,</span> <span class="p">{</span> <span class="na">foo</span><span class="p">:</span> <span class="dl">'</span><span class="s1">bar</span><span class="dl">'</span> <span class="p">});</span>

   <span class="c1">// Schedule worker to process jobs</span>
   <span class="kd">const</span> <span class="nx">worker</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Worker</span><span class="p">(</span><span class="dl">'</span><span class="s1">myQueue</span><span class="dl">'</span><span class="p">,</span> <span class="k">async</span> <span class="nx">job</span> <span class="o">=&gt;</span> <span class="p">{</span>
     <span class="nx">console</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="s2">`Processing job: </span><span class="p">${</span><span class="nx">job</span><span class="p">.</span><span class="nx">id</span><span class="p">}</span><span class="s2">`</span><span class="p">);</span>
     <span class="nx">console</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="s2">`Job data: </span><span class="p">${</span><span class="nx">JSON</span><span class="p">.</span><span class="nf">stringify</span><span class="p">(</span><span class="nx">job</span><span class="p">.</span><span class="nx">data</span><span class="p">)}</span><span class="s2">`</span><span class="p">);</span>
     <span class="c1">// Job processing logic here</span>
   <span class="p">},</span> <span class="p">{</span> <span class="nx">connection</span> <span class="p">});</span>

   <span class="nx">worker</span><span class="p">.</span><span class="nf">on</span><span class="p">(</span><span class="dl">'</span><span class="s1">completed</span><span class="dl">'</span><span class="p">,</span> <span class="nx">job</span> <span class="o">=&gt;</span> <span class="p">{</span>
     <span class="nx">console</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="s2">`Job completed: </span><span class="p">${</span><span class="nx">job</span><span class="p">.</span><span class="nx">id</span><span class="p">}</span><span class="s2">`</span><span class="p">);</span>
   <span class="p">});</span>

   <span class="nx">worker</span><span class="p">.</span><span class="nf">on</span><span class="p">(</span><span class="dl">'</span><span class="s1">failed</span><span class="dl">'</span><span class="p">,</span> <span class="p">(</span><span class="nx">job</span><span class="p">,</span> <span class="nx">err</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
     <span class="nx">console</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="s2">`Job failed: </span><span class="p">${</span><span class="nx">job</span><span class="p">.</span><span class="nx">id</span><span class="p">}</span><span class="s2"> - </span><span class="p">${</span><span class="nx">err</span><span class="p">.</span><span class="nx">message</span><span class="p">}</span><span class="s2">`</span><span class="p">);</span>
   <span class="p">});</span>
</pre></td></tr></tbody></table></code></div></div>

<pre><code class="language-mermaid">graph LR
    subgraph bullMQFlow["🚀 BullMQ Flow"]
        queue["📋 Queue"] --&gt; |"Add Job"| job["📝 Job"]
        job --&gt; |"Schedule"| worker["👷 Worker"]
        worker --&gt; |"Process"| completed["✅ Job Completed"]
        worker --&gt; |"Handle Error"| failed["❌ Job Failed"]
        worker --&gt; |"Retry"| retry["🔄 Retry Job"]
    end

    style bullMQFlow fill:#fff3e0,stroke:#f57c00,stroke-width:2px
    style queue fill:#bbdefb,stroke:#1976d2,stroke-width:2px
    style job fill:#e1bee7,stroke:#8e24aa,stroke-width:2px
    style worker fill:#c8e6c9,stroke:#388e3c,stroke-width:2px
    style completed fill:#dcedc8,stroke:#689f38,stroke-width:2px
    style failed fill:#ffcdd2,stroke:#d32f2f,stroke-width:2px
    style retry fill:#ffe0b2,stroke:#ff9800,stroke-width:2px
</code></pre>

<h3 id="use-cases-1"><span class="me-2">Use Cases</span><a href="#use-cases-1" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<p>BullMQ is ideal for:</p>

<ul>
  <li><strong>Background Job Processing</strong>: Handle tasks like image processing, sending emails, or performing heavy computations in the background.</li>
  <li><strong>Task Scheduling</strong>: Run jobs at specific times or after delays.</li>
  <li><strong>Rate-Limited Jobs</strong>: Control the rate of job execution to prevent overwhelming your system.</li>
</ul>

<h2 id="leaderboards"><span class="me-2">Leaderboards</span><a href="#leaderboards" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>

<p>Sorted Sets in Redis are a powerful data structure for implementing leaderboards, rankings, and scoring systems. By using the <code class="language-plaintext highlighter-rouge">ZADD</code>, <code class="language-plaintext highlighter-rouge">ZINCRBY</code>, and <code class="language-plaintext highlighter-rouge">ZRANGE</code> commands, you can efficiently manage player scores, ranks, and top scorers, with operations typically running in O(logN) time complexity, making them highly efficient for large datasets.</p>

<div class="language-javascript highlighter-rouge"><div class="code-header">
        <span data-label-text="JavaScript"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
</pre></td><td class="rouge-code"><pre><span class="kd">const</span> <span class="nx">Redis</span> <span class="o">=</span> <span class="nf">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">ioredis</span><span class="dl">'</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">redis</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Redis</span><span class="p">();</span>

<span class="kd">const</span> <span class="nx">LEADERBOARD_KEY</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">game:leaderboard</span><span class="dl">'</span><span class="p">;</span>

<span class="kd">class</span> <span class="nc">Leaderboard</span> <span class="p">{</span>
  <span class="c1">// Increment player's score</span>
  <span class="kd">static</span> <span class="k">async</span> <span class="nf">incrementScore</span><span class="p">(</span><span class="nx">playerId</span><span class="p">,</span> <span class="nx">increment</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">try</span> <span class="p">{</span>
      <span class="kd">const</span> <span class="nx">newScore</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">redis</span><span class="p">.</span><span class="nf">zincrby</span><span class="p">(</span><span class="nx">LEADERBOARD_KEY</span><span class="p">,</span> <span class="nx">increment</span><span class="p">,</span> <span class="nx">playerId</span><span class="p">);</span>
      <span class="k">return</span> <span class="p">{</span> <span class="nx">playerId</span><span class="p">,</span> <span class="na">newScore</span><span class="p">:</span> <span class="nf">parseFloat</span><span class="p">(</span><span class="nx">newScore</span><span class="p">)</span> <span class="p">};</span>
    <span class="p">}</span> <span class="k">catch </span><span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">console</span><span class="p">.</span><span class="nf">error</span><span class="p">(</span><span class="dl">'</span><span class="s1">Error incrementing score:</span><span class="dl">'</span><span class="p">,</span> <span class="nx">error</span><span class="p">);</span>
      <span class="k">throw</span> <span class="nx">error</span><span class="p">;</span>
    <span class="p">}</span>
  <span class="p">}</span>

  <span class="c1">// Get top players</span>
  <span class="kd">static</span> <span class="k">async</span> <span class="nf">getTopPlayers</span><span class="p">(</span><span class="nx">count</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">try</span> <span class="p">{</span>
      <span class="kd">const</span> <span class="nx">topPlayers</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">redis</span><span class="p">.</span><span class="nf">zrevrange</span><span class="p">(</span><span class="nx">LEADERBOARD_KEY</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="nx">count</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span> <span class="dl">'</span><span class="s1">WITHSCORES</span><span class="dl">'</span><span class="p">);</span>
      <span class="k">return</span> <span class="nx">topPlayers</span><span class="p">.</span><span class="nf">reduce</span><span class="p">((</span><span class="nx">acc</span><span class="p">,</span> <span class="nx">cur</span><span class="p">,</span> <span class="nx">i</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
        <span class="k">if </span><span class="p">(</span><span class="nx">i</span> <span class="o">%</span> <span class="mi">2</span> <span class="o">===</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
          <span class="nx">acc</span><span class="p">.</span><span class="nf">push</span><span class="p">({</span> <span class="na">playerId</span><span class="p">:</span> <span class="nx">cur</span><span class="p">,</span> <span class="na">score</span><span class="p">:</span> <span class="nf">parseFloat</span><span class="p">(</span><span class="nx">topPlayers</span><span class="p">[</span><span class="nx">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">])</span> <span class="p">});</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="nx">acc</span><span class="p">;</span>
      <span class="p">},</span> <span class="p">[]);</span>
    <span class="p">}</span> <span class="k">catch </span><span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">console</span><span class="p">.</span><span class="nf">error</span><span class="p">(</span><span class="dl">'</span><span class="s1">Error fetching top players:</span><span class="dl">'</span><span class="p">,</span> <span class="nx">error</span><span class="p">);</span>
      <span class="k">throw</span> <span class="nx">error</span><span class="p">;</span>
    <span class="p">}</span>
  <span class="p">}</span>

  <span class="c1">// Get player's rank and score</span>
  <span class="kd">static</span> <span class="k">async</span> <span class="nf">getPlayerRank</span><span class="p">(</span><span class="nx">playerId</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">try</span> <span class="p">{</span>
      <span class="kd">const</span> <span class="p">[</span><span class="nx">rank</span><span class="p">,</span> <span class="nx">score</span><span class="p">]</span> <span class="o">=</span> <span class="k">await</span> <span class="nb">Promise</span><span class="p">.</span><span class="nf">all</span><span class="p">([</span>
        <span class="nx">redis</span><span class="p">.</span><span class="nf">zrevrank</span><span class="p">(</span><span class="nx">LEADERBOARD_KEY</span><span class="p">,</span> <span class="nx">playerId</span><span class="p">),</span>
        <span class="nx">redis</span><span class="p">.</span><span class="nf">zscore</span><span class="p">(</span><span class="nx">LEADERBOARD_KEY</span><span class="p">,</span> <span class="nx">playerId</span><span class="p">)</span>
      <span class="p">]);</span>
      
      <span class="k">if </span><span class="p">(</span><span class="nx">rank</span> <span class="o">!==</span> <span class="kc">null</span> <span class="o">&amp;&amp;</span> <span class="nx">score</span> <span class="o">!==</span> <span class="kc">null</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="p">{</span> <span class="nx">playerId</span><span class="p">,</span> <span class="na">rank</span><span class="p">:</span> <span class="nx">rank</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="na">score</span><span class="p">:</span> <span class="nf">parseFloat</span><span class="p">(</span><span class="nx">score</span><span class="p">)</span> <span class="p">};</span>
      <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
        <span class="k">return</span> <span class="kc">null</span><span class="p">;</span>
      <span class="p">}</span>
    <span class="p">}</span> <span class="k">catch </span><span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">console</span><span class="p">.</span><span class="nf">error</span><span class="p">(</span><span class="dl">'</span><span class="s1">Error fetching player rank:</span><span class="dl">'</span><span class="p">,</span> <span class="nx">error</span><span class="p">);</span>
      <span class="k">throw</span> <span class="nx">error</span><span class="p">;</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="c1">// Example usage</span>
<span class="k">async</span> <span class="kd">function</span> <span class="nf">runExample</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">try</span> <span class="p">{</span>
    <span class="c1">// Increment scores for some players</span>
    <span class="k">await</span> <span class="nx">Leaderboard</span><span class="p">.</span><span class="nf">incrementScore</span><span class="p">(</span><span class="dl">'</span><span class="s1">player1</span><span class="dl">'</span><span class="p">,</span> <span class="mi">50</span><span class="p">);</span>
    <span class="k">await</span> <span class="nx">Leaderboard</span><span class="p">.</span><span class="nf">incrementScore</span><span class="p">(</span><span class="dl">'</span><span class="s1">player2</span><span class="dl">'</span><span class="p">,</span> <span class="mi">30</span><span class="p">);</span>
    <span class="k">await</span> <span class="nx">Leaderboard</span><span class="p">.</span><span class="nf">incrementScore</span><span class="p">(</span><span class="dl">'</span><span class="s1">player3</span><span class="dl">'</span><span class="p">,</span> <span class="mi">70</span><span class="p">);</span>
    <span class="k">await</span> <span class="nx">Leaderboard</span><span class="p">.</span><span class="nf">incrementScore</span><span class="p">(</span><span class="dl">'</span><span class="s1">player1</span><span class="dl">'</span><span class="p">,</span> <span class="mi">20</span><span class="p">);</span>

    <span class="c1">// Get top 3 players</span>
    <span class="kd">const</span> <span class="nx">topPlayers</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">Leaderboard</span><span class="p">.</span><span class="nf">getTopPlayers</span><span class="p">(</span><span class="mi">3</span><span class="p">);</span>
    <span class="nx">console</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">Top 3 players:</span><span class="dl">'</span><span class="p">,</span> <span class="nx">topPlayers</span><span class="p">);</span>

    <span class="c1">// Get rank for player1</span>
    <span class="kd">const</span> <span class="nx">player1Rank</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">Leaderboard</span><span class="p">.</span><span class="nf">getPlayerRank</span><span class="p">(</span><span class="dl">'</span><span class="s1">player1</span><span class="dl">'</span><span class="p">);</span>
    <span class="nx">console</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">Player 1 rank:</span><span class="dl">'</span><span class="p">,</span> <span class="nx">player1Rank</span><span class="p">);</span>

  <span class="p">}</span> <span class="k">catch </span><span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nf">error</span><span class="p">(</span><span class="dl">'</span><span class="s1">Error in example:</span><span class="dl">'</span><span class="p">,</span> <span class="nx">error</span><span class="p">);</span>
  <span class="p">}</span> <span class="k">finally</span> <span class="p">{</span>
    <span class="nx">redis</span><span class="p">.</span><span class="nf">quit</span><span class="p">();</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="nf">runExample</span><span class="p">();</span>
</pre></td></tr></tbody></table></code></div></div>

<ol>
  <li><strong>Efficient Score Updates</strong>: <code class="language-plaintext highlighter-rouge">ZINCRBY</code> increments scores atomically.</li>
  <li><strong>Fast Retrieval of Top Players</strong>: <code class="language-plaintext highlighter-rouge">ZREVRANGE</code> quickly fetches top scores.</li>
  <li><strong>Player Ranking</strong>: <code class="language-plaintext highlighter-rouge">ZREVRANK</code> provides player rankings efficiently.</li>
  <li><strong>Automatic Sorting</strong>: Redis keeps the set sorted, eliminating manual sorting.</li>
</ol>

<h3 id="sample-application"><span class="me-2">Sample Application</span><a href="#sample-application" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<p><a href="https://github.com/kelvin-bz/redis-leaderboard/blob/main/img/leaderboard.png?raw=true" class="popup img-link  shimmer"><img src="https://github.com/kelvin-bz/redis-leaderboard/blob/main/img/leaderboard.png?raw=true" alt="Leaderboard" loading="lazy"></a></p>

<p>A sample application demonstrating the use of Redis for managing a leaderboard can be found at <a href="https://github.com/kelvin-bz/redis-leaderboard">https://github.com/kelvin-bz/redis-leaderboard</a>.</p>

<h2 id="qa"><span class="me-2">Q&amp;A</span><a href="#qa" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>

<h3 id="how-does-redis-achieve-its-high-performance"><span class="me-2">How does Redis achieve its high performance?</span><a href="#how-does-redis-achieve-its-high-performance" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<p>Redis achieves its high performance through several key factors:</p>

<ol>
  <li>In-memory storage: All data is stored in RAM, allowing for extremely fast read and write operations.</li>
  <li>Single-threaded architecture: Eliminates the need for context switching and locking mechanisms.</li>
  <li>Asynchronous operations: Non-blocking I/O operations allow Redis to handle multiple clients efficiently.</li>
  <li>Optimized data structures: Redis uses custom, highly optimized data structures.</li>
</ol>

<h3 id="what-are-the-limitations-of-redis"><span class="me-2">What are the limitations of Redis?</span><a href="#what-are-the-limitations-of-redis" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<p>While Redis is powerful, it has some limitations:</p>

<ol>
  <li><strong>Memory Constraint</strong>: Dataset size limited by available RAM, potentially costly for large datasets.</li>
  <li><strong>Limited Query Capabilities</strong>: Lacks complex querying of relational databases; no native full-text search.</li>
  <li><strong>Eventual Consistency</strong>: In distributed setups, may have data inconsistencies between master and replicas.</li>
  <li><strong>Single-Threaded</strong>: Can’t fully utilize multi-core CPUs for a single instance.</li>
  <li><strong>Persistence Tradeoffs</strong>: Balancing between performance and data durability in persistence settings.</li>
</ol>

<h3 id="can-redis-be-used-as-a-primary-database"><span class="me-2">Can Redis be used as a primary database?</span><a href="#can-redis-be-used-as-a-primary-database" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<p>While Redis is highly performant and supports a variety of data structures, it is not typically used as a primary database due to its in-memory nature, which limits data size to the available RAM. However, for specific use cases like caching, session management, or real-time analytics, Redis can serve as the primary datastore.</p>

<h3 id="how-does-redis-handle-data-replication"><span class="me-2">How does Redis handle data replication?</span><a href="#how-does-redis-handle-data-replication" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<p>Redis supports data replication through a master-slave replication model. The master instance serves as the primary node for read and write operations, while one or more slave instances replicate data from the master. Replication can be synchronous or asynchronous, with slaves able to handle read operations to distribute the load.</p>

  </div>

  <div class="post-tail-wrapper text-muted">
    <!-- categories -->
    
      <div class="post-meta mb-3">
        <i class="far fa-folder-open fa-fw me-1"></i>
        
          <a href="/categories/mern/">mern</a>,
          <a href="/categories/redis/">redis</a>
      </div>
    

    <!-- tags -->
    
      <div class="post-tags">
        <i class="fa fa-tags fa-fw me-1"></i>
        
          <a
            href="/tags/redis/"
            class="post-tag no-text-decoration"
          >redis</a>
        
          <a
            href="/tags/database/"
            class="post-tag no-text-decoration"
          >database</a>
        
      </div>
    

    <div
      class="
        post-tail-bottom
        d-flex justify-content-between align-items-center mt-5 pb-2
      "
    >
      <div class="license-wrapper">
        
          

          This post is licensed under 
        <a href="https://creativecommons.org/licenses/by/4.0/">
          CC BY 4.0
        </a>
         by the author.
        
      </div>

      <!-- Post sharing snippet -->

<div class="share-wrapper d-flex align-items-center">
  <span class="share-label text-muted">Share</span>
  <span class="share-icons">
    
    
    

    

      

      <a href="https://twitter.com/intent/tweet?text=%20Redis%20Fundamentals%20-%20KelvinBz&url=http%3A%2F%2Flocalhost%3A4000%2Fposts%2Fredis-fundamentals%2F" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Twitter" aria-label="Twitter">
        <i class="fa-fw fa-brands fa-square-x-twitter"></i>
      </a>
    

      

      <a href="https://www.facebook.com/sharer/sharer.php?title=%20Redis%20Fundamentals%20-%20KelvinBz&u=http%3A%2F%2Flocalhost%3A4000%2Fposts%2Fredis-fundamentals%2F" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Facebook" aria-label="Facebook">
        <i class="fa-fw fab fa-facebook-square"></i>
      </a>
    

      

      <a href="https://t.me/share/url?url=http%3A%2F%2Flocalhost%3A4000%2Fposts%2Fredis-fundamentals%2F&text=%20Redis%20Fundamentals%20-%20KelvinBz" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Telegram" aria-label="Telegram">
        <i class="fa-fw fab fa-telegram"></i>
      </a>
    

    <button
      id="copy-link"
      aria-label="Copy link"
      class="btn small"
      data-bs-toggle="tooltip"
      data-bs-placement="top"
      title="Copy link"
      data-title-succeed="Link copied successfully!"
    >
      <i class="fa-fw fas fa-link pe-none fs-6"></i>
    </button>
  </span>
</div>

    </div>
    <!-- .post-tail-bottom -->
  </div>
  <!-- div.post-tail-wrapper -->
</article>


            
          </main>

          <!-- panel -->
          <aside aria-label="Panel" id="panel-wrapper" class="col-xl-3 ps-2 mb-5 text-muted">
            <div class="access">
              <!-- Get 5 last posted/updated posts -->














  <section id="access-lastmod">
    <h2 class="panel-heading">Recently Updated</h2>
    <ul class="content list-unstyled ps-0 pb-1 ms-1 mt-2">
      
        
        
        
        <li class="text-truncate lh-lg">
          <a href="/posts/password-hashing/">Hashing Passwords</a>
        </li>
      
        
        
        
        <li class="text-truncate lh-lg">
          <a href="/posts/expressjs-fundamental/">MERN - Express.js Fundamentals</a>
        </li>
      
        
        
        
        <li class="text-truncate lh-lg">
          <a href="/posts/mongodb-fundamental/">MERN - MongoDB Fundamental</a>
        </li>
      
        
        
        
        <li class="text-truncate lh-lg">
          <a href="/posts/javascript-array-in-1-page/">JavaScript Array In 1 Page</a>
        </li>
      
        
        
        
        <li class="text-truncate lh-lg">
          <a href="/posts/blockchain-for-dummies/">Blockchain for dummies</a>
        </li>
      
    </ul>
  </section>
  <!-- #access-lastmod -->


              <!-- The trending tags list -->















  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        



  <section>
    <h2 class="panel-heading">Trending Tags</h2>
    <div class="d-flex flex-wrap mt-3 mb-1 me-3">
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/mongodb/">mongodb</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/system-design/">system design</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/database-design/">database design</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/mern/">mern</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/nodejs/">nodejs</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/cryptography/">cryptography</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/security/">security</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/expressjs/">expressjs</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/js/">js</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/performance-optimization/">performance optimization</a>
      
    </div>
  </section>


            </div>

            
              
              



  <section id="toc-wrapper" class="d-none ps-0 pe-4">
    <h2 class="panel-heading ps-3 mb-2">Contents</h2>
    <nav id="toc"></nav>
  </section>


            
          </aside>
        </div>

        <div class="row">
          <!-- tail -->
          <div id="tail-wrapper" class="col-12 col-lg-11 col-xl-9 px-md-4">
            
              
              <!-- Recommend the other 3 posts according to the tags and categories of the current post. -->

<!-- The total size of related posts -->


<!-- An random integer that bigger than 0 -->


<!-- Equals to TAG_SCORE / {max_categories_hierarchy} -->















  

  
    
  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  











  <aside id="related-posts" aria-labelledby="related-label">
    <h3 class="mb-4" id="related-label">Further Reading</h3>
    <nav class="row row-cols-1 row-cols-md-2 row-cols-xl-3 g-4 mb-4">
      
        <article class="col">
          <a href="/posts/programming-quiz-hub/" class="post-preview card h-100">
            <div class="card-body">
              <!--
  Date format snippet
  See: ${JS_ROOT}/utils/locale-dateime.js
-->




<time
  
  data-ts="1726876800"
  data-df="ll"
  
>
  Sep 21, 2024
</time>

              <h4 class="pt-0 my-2">It's Quiz Time! 🎯</h4>
              <div class="text-muted">
                <p>Welcome to Programming Quiz Hub 🎯
Boost your skills with interactive quizzes across programming and tech topics! Test your knowledge, explore new concepts, and track your progress with fun and enga...</p>
              </div>
            </div>
          </a>
        </article>
      
        <article class="col">
          <a href="/posts/mongodb-fundamental/" class="post-preview card h-100">
            <div class="card-body">
              <!--
  Date format snippet
  See: ${JS_ROOT}/utils/locale-dateime.js
-->




<time
  
  data-ts="1726790400"
  data-df="ll"
  
>
  Sep 20, 2024
</time>

              <h4 class="pt-0 my-2">MERN - MongoDB Fundamental</h4>
              <div class="text-muted">
                <p>MongoDB Architecture

MongoDB is a popular NoSQL database designed for high performance, high availability, and easy scalability. It stores data in flexible, JSON-like documents, making it easy to ...</p>
              </div>
            </div>
          </a>
        </article>
      
        <article class="col">
          <a href="/posts/expressjs-fundamental/" class="post-preview card h-100">
            <div class="card-body">
              <!--
  Date format snippet
  See: ${JS_ROOT}/utils/locale-dateime.js
-->




<time
  
  data-ts="1726704000"
  data-df="ll"
  
>
  Sep 19, 2024
</time>

              <h4 class="pt-0 my-2">MERN - Express.js Fundamentals</h4>
              <div class="text-muted">
                <p>Fundamentals

Express.js is a popular web application framework for Node.js that simplifies building web applications and APIs.


  
    Middleware: Functions that access the request and response o...</p>
              </div>
            </div>
          </a>
        </article>
      
    </nav>
  </aside>
  <!-- #related-posts -->


            
              
              <!-- Navigation buttons at the bottom of the post. -->

<nav class="post-navigation d-flex justify-content-between" aria-label="Post Navigation">
  
  

  
    <a
      href="/posts/dsa-fundamental/"
      class="btn btn-outline-primary"
      aria-label="Older"
    >
      <p>Dsa Fundamental</p>
    </a>
  

  
    <a
      href="/posts/nestjs/"
      class="btn btn-outline-primary"
      aria-label="Newer"
    >
      <p>Nestjs</p>
    </a>
  
</nav>

            
              
              <!-- The comments switcher -->


            

            <script src="/assets/mermaid.min.js"></script>
<script>
  document.querySelectorAll('.language-mermaid').forEach((block) => {
    block.style.display = 'none';
  });
  document.addEventListener('DOMContentLoaded', () => {
    window.mermaid.init(undefined, document.querySelectorAll('.language-mermaid'));
    document.querySelectorAll('.language-mermaid').forEach((block) => {
      block.style.display = 'block';
    });
  });
</script>

          </div>
        </div>

        <!-- The Search results -->

<div id="search-result-wrapper" class="d-flex justify-content-center d-none">
  <div class="col-11 content">
    <div id="search-hints">
      <!-- The trending tags list -->















  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        



  <section>
    <h2 class="panel-heading">Trending Tags</h2>
    <div class="d-flex flex-wrap mt-3 mb-1 me-3">
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/mongodb/">mongodb</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/system-design/">system design</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/database-design/">database design</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/mern/">mern</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/nodejs/">nodejs</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/cryptography/">cryptography</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/security/">security</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/expressjs/">expressjs</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/js/">js</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/performance-optimization/">performance optimization</a>
      
    </div>
  </section>


    </div>
    <div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div>
  </div>
</div>

      </div>

      <aside aria-label="Scroll to Top">
        <button id="back-to-top" type="button" class="btn btn-lg btn-box-shadow">
          <i class="fas fa-angle-up"></i>
        </button>
      </aside>
    </div>

    <div id="mask"></div>

    
      <aside
  id="notification"
  class="toast"
  role="alert"
  aria-live="assertive"
  aria-atomic="true"
  data-bs-animation="true"
  data-bs-autohide="false"
>
  <div class="toast-header">
    <button
      type="button"
      class="btn-close ms-auto"
      data-bs-dismiss="toast"
      aria-label="Close"
    ></button>
  </div>
  <div class="toast-body text-center pt-0">
    <p class="px-2 mb-3">A new version of content is available.</p>
    <button type="button" class="btn btn-primary" aria-label="Update">
      Update
    </button>
  </div>
</aside>

    

    <!-- JavaScripts -->
    <!-- JS selector for site. -->

<!-- commons -->



<!-- layout specified -->




  

  
    <!-- image lazy-loading & popup & clipboard -->
    
  















  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  



  <script src="https://cdn.jsdelivr.net/combine/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js,npm/loading-attribute-polyfill@2.1.1/dist/loading-attribute-polyfill.umd.min.js,npm/glightbox@3.3.0/dist/js/glightbox.min.js,npm/clipboard@2.0.11/dist/clipboard.min.js,npm/dayjs@1.11.11/dayjs.min.js,npm/dayjs@1.11.11/locale/en.min.js,npm/dayjs@1.11.11/plugin/relativeTime.min.js,npm/dayjs@1.11.11/plugin/localizedFormat.min.js,npm/tocbot@4.27.20/dist/tocbot.min.js"></script>






<script src="/assets/js/dist/post.min.js"></script>



<!-- Pageviews -->

  

  







    <!--
  Jekyll Simple Search loader
  See: <https://github.com/christian-fei/Simple-Jekyll-Search>
-->





<script>SimpleJekyllSearch({
    searchInput: document.getElementById('search-input'),
    resultsContainer: document.getElementById('search-results'),
    json: '/assets/js/data/search.json',
    searchResultTemplate: '  <article class="px-1 px-sm-2 px-lg-4 px-xl-0">    <header>      <h2><a href="{url}">{title}</a></h2>      <div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1">        {categories}        {tags}      </div>    </header>    <p>{snippet}</p>  </article>',
    noResultsText: '<p class="mt-5">Oops! No results found.</p>',
    templateMiddleware: function(prop, value, template) {
      if (prop === 'categories') {
        if (value === '') {
          return `${value}`;
        } else {
          return `<div class="me-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`;
        }
      }

      if (prop === 'tags') {
        if (value === '') {
          return `${value}`;
        } else {
          return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`;
        }
      }
    }
  });
</script>

  </body>
</html>

